Initializing Redis Client...
TAP version 14
# Subtest: ✅ Should update client successfully
    not ok 1 - The decorator 'user' has already been added!
      ---
      stack: |
        decorateConstructor (node_modules/fastify/lib/decorate.js:41:11)
        Object.decorateRequest (node_modules/fastify/lib/decorate.js:123:3)
        fastifyJwt (node_modules/@fastify/jwt/jwt.js:186:13)
        Plugin.exec (node_modules/avvio/lib/plugin.js:125:28)
        Boot._loadPlugin (node_modules/avvio/boot.js:432:10)
      at:
        fileName: node_modules\fastify\lib\decorate.js
        lineNumber: 41
        columnNumber: 11
        functionName: decorateConstructor
      type: FastifyError
      code: FST_ERR_DEC_ALREADY_PRESENT
      statusCode: 500
      tapCaught: uncaughtException
      source: >2
          const instance = konstructor.prototype
          if (Object.prototype.hasOwnProperty.call(instance, name) || hasKey(konstructor, name)) {
            throw new FST_ERR_DEC_ALREADY_PRESENT(name)
        ----------^
          }
      ...
    
    1..1
not ok 1 - ✅ Should update client successfully # time=214.224ms
  ---
  at:
    fileName: src\modules\client\__test__\update.test.ts
    lineNumber: 39
    columnNumber: 16
    typeName: Object
    generated:
      fileName: src/modules/client/__test__/update.test.ts
      lineNumber: 49
      columnNumber: 16
  source: "\r
  
    \  const stub = ImportMock.mockFunction(ClientService, 'update',
    mockClient);\r
  
    \r
  
    \  fastify.decorateRequest('user', null);\r
  
    \  fastify.addHook('preHandler', (req, _reply, done) => {\n"
  ...

