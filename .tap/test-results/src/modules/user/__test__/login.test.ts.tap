Initializing Redis Client...
TAP version 14
connected to redis
# Subtest: ✅ Should login successfully
    not ok 1 - should be equal
      ---
      compare: ===
      at:
        fileName: src\modules\user\__test__\login.test.ts
        lineNumber: 36
        columnNumber: 7
        isToplevel: true
        generated:
          fileName: src/modules/user/__test__/login.test.ts
          lineNumber: 46
          columnNumber: 7
      stack: |
        src/modules/user/__test__/login.test.ts:36:7
        Generator.next
        fulfilled (src/modules/user/__test__/login.test.ts:5:58)
      source: "    const fastify = build();\r
      
        \    ImportMock.mockFunction(UserService, 'findByEmail', {\r
      
        \        id: faker.number.int(),\r
      
        ------^
      
        \        email,\r
      
        \        password: hashedPassword\n"
      diff: |
        --- expected
        +++ actual
        @@ -1,1 +1,1 @@
        -200
        +404
      ...
    
    not ok 2 - should be equal
      ---
      at:
        fileName: src\modules\user\__test__\login.test.ts
        lineNumber: 37
        columnNumber: 7
        isToplevel: true
        generated:
          fileName: src/modules/user/__test__/login.test.ts
          lineNumber: 47
          columnNumber: 7
      stack: |
        src/modules/user/__test__/login.test.ts:37:7
        Generator.next
        fulfilled (src/modules/user/__test__/login.test.ts:5:58)
      source: "    ImportMock.mockFunction(UserService, 'findByEmail', {\r
      
        \        id: faker.number.int(),\r
      
        \        email,\r
      
        ------^
      
        \        password: hashedPassword\r
      
        \    });\n"
      ...
    
    1..2
not ok 1 - ✅ Should login successfully # time=2816.841ms
  ---
  at:
    fileName: src\modules\user\__test__\login.test.ts
    lineNumber: 24
    columnNumber: 16
    typeName: Object
    generated:
      fileName: src/modules/user/__test__/login.test.ts
      lineNumber: 34
      columnNumber: 16
  source: "        url: \"/api/v1/auth/login\",\r
  
    \        payload: { email, password }\r
  
    \    });\r
  
    \r
  
    \    t.equal(response.statusCode, 200);\n"
  ...

# Subtest: ❌ Should return 401 for incorrect credentials
    not ok 1 - should be equal
      ---
      compare: ===
      at:
        fileName: src\modules\user\__test__\login.test.ts
        lineNumber: 53
        columnNumber: 7
        isToplevel: true
        generated:
          fileName: src/modules/user/__test__/login.test.ts
          lineNumber: 63
          columnNumber: 7
      stack: |
        src/modules/user/__test__/login.test.ts:53:7
        Generator.next
        fulfilled (src/modules/user/__test__/login.test.ts:5:58)
      source: "});\r
      
        \r
      
        test(\"❌ Should return 400 for missing email\", async (t) => {\r
      
        ------^
      
        \    const fastify = build();\r
      
        \    const response = await fastify.inject({\n"
      diff: |
        --- expected
        +++ actual
        @@ -1,1 +1,1 @@
        -401
        +404
      ...
    
    not ok 2 - should match pattern
      ---
      diff: |
        --- expected
        +++ actual
        @@ -1,3 +1,3 @@
         Object {
        -  "message": /invalid credentials/,
        +  "message": "Route POST:/api/v1/auth/login not found",
         }
      at:
        fileName: src\modules\user\__test__\login.test.ts
        lineNumber: 54
        columnNumber: 7
        isToplevel: true
        generated:
          fileName: src/modules/user/__test__/login.test.ts
          lineNumber: 64
          columnNumber: 7
      stack: |
        src/modules/user/__test__/login.test.ts:54:7
        Generator.next
        fulfilled (src/modules/user/__test__/login.test.ts:5:58)
      source: "\r
      
        test(\"❌ Should return 400 for missing email\", async (t) => {\r
      
        \    const fastify = build();\r
      
        ------^
      
        \    const response = await fastify.inject({\r
      
        \        method: \"POST\",\n"
      ...
    
    1..2
not ok 2 - ❌ Should return 401 for incorrect credentials # time=1855.769ms
  ---
  at:
    fileName: src\modules\user\__test__\login.test.ts
    lineNumber: 41
    columnNumber: 16
    typeName: Object
    generated:
      fileName: src/modules/user/__test__/login.test.ts
      lineNumber: 51
      columnNumber: 16
  source: "    });\r
  
    \    \r
  
    \    const response = await fastify.inject({\r
  
    ---------------^
  
    \        method: \"POST\",\r
  
    \        url: \"/api/v1/auth/login\",\n"
  ...

